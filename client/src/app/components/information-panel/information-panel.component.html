<h1 mat-dialog-title id="panel-title">
    <img src="https://bit.ly/3m206ss" width="300" height="60" alt="Logo Scrabble" (click)="abandonGame()" />
</h1>

<section class="player" [ngClass]="{ active: this.gameClientService.playerOneTurn }" id="player-1">
    <div class="name-score">
        <div>{{ this.gameClientService.playerOne.name }}</div>
        <div>score : {{ this.gameClientService.playerOne.score }}</div>
    </div>
    <div id="playerNumberLettersRack" *ngIf="this.gameClientService.playerOne.rack.length < 7">
        {{ this.gameClientService.playerOne.rack?.length }} lettres disponibles sur le chevalet
    </div>
    <div id="playerNumberLettersRack" *ngIf="this.gameClientService.playerOne.objective !== undefined">
        <table>
            <thead class="tableContainer">
                <tr>
                    <th>Mes Objectifs</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let objective of this.gameClientService.playerOne.objective">
                    <td *ngIf="objective.isPublic !== true" [ngClass]="{ complete: objective.complete }" [matTooltip]="objective.description">
                        {{ objective.name }}
                    </td>
                    <td *ngIf="objective.isPublic !== true" [ngClass]="{ complete: objective.complete }" [matTooltip]="objective.description">
                        <div *ngIf="!objective.multiplier">| pts : {{ objective.points }} <mat-icon [inline]="true">info</mat-icon></div>
                        <div *ngIf="objective.multiplier">| pts : {{ objective.multiplier }} <mat-icon [inline]="true">info</mat-icon></div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="time" id="playerOneTimer" *ngIf="this.gameClientService.playerOneTurn">
        <mat-icon>timer</mat-icon>{{ this.timer.timerToMinute(this.gameClientService.timer) }}:{{
            this.timer.timerToSecond(this.gameClientService.timer)
        }}
    </div>
    <div class="time" *ngIf="!this.gameClientService.playerOneTurn"><mat-icon>timer</mat-icon>-:-</div>
</section>
<div id="versus">VS</div>
<section class="player" [ngClass]="{ active: !this.gameClientService.playerOneTurn }" id="player-2">
    <div class="name-score">
        <div>{{ this.gameClientService.secondPlayer.name }}</div>
        <div>score : {{ this.gameClientService.secondPlayer.score }}</div>
    </div>
    <div *ngIf="this.gameClientService.secondPlayer.rack.length < 7">
        {{ this.gameClientService.secondPlayer.rack?.length }} lettres disponibles sur le chevalet
    </div>
    <div id="playerNumberLettersRack" *ngIf="this.gameClientService.secondPlayer.objective !== undefined">
        <table>
            <thead class="tableContainer">
                <tr>
                    <th>Objectif Privée Complété du deuxième Joueurs</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let objective of this.gameClientService.secondPlayer.objective">
                    <td
                        *ngIf="objective.complete !== undefined && objective.isPublic !== true"
                        [ngClass]="{ complete: objective.complete }"
                        [matTooltip]="objective.description"
                    >
                        {{ objective.name }}
                    </td>
                    <td
                        *ngIf="objective.complete !== undefined && objective.isPublic !== true"
                        [ngClass]="{ complete: objective.complete }"
                        [matTooltip]="objective.description"
                    >
                        <div *ngIf="!objective.multiplier">| pts : {{ objective.points }} <mat-icon [inline]="true">info</mat-icon></div>
                        <div *ngIf="objective.multiplier">| pts : {{ objective.multiplier }} <mat-icon [inline]="true">info</mat-icon></div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="time" id="playerTwoTimer" *ngIf="!this.gameClientService.playerOneTurn">
        <mat-icon>timer</mat-icon>{{ this.timer.timerToMinute(this.gameClientService.timer) }}:{{
            this.timer.timerToSecond(this.gameClientService.timer)
        }}
    </div>
    <div class="time" *ngIf="this.gameClientService.playerOneTurn"><mat-icon>timer</mat-icon>-:-</div>
</section>

<div id="playerNumberLettersRack" *ngIf="this.gameClientService.playerOne.objective !== undefined">
    <table>
        <thead class="tableContainer">
            <tr>
                <th>Objectifs Public</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let objective of this.gameClientService.playerOne.objective">
                <td *ngIf="objective.isPublic === true" [ngClass]="{ complete: objective.complete }" [matTooltip]="objective.description">
                    {{ objective.name }}
                </td>
                <td *ngIf="objective.isPublic === true" [ngClass]="{ complete: objective.complete }" [matTooltip]="objective.description">
                    <div *ngIf="!objective.multiplier">| pts : {{ objective.points }} <mat-icon [inline]="true">info</mat-icon></div>
                    <div *ngIf="objective.multiplier">| pts : {{ objective.multiplier }} <mat-icon [inline]="true">info</mat-icon></div>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div>{{ this.gameClientService.letterReserveLength }} lettres disponibles dans la réserve</div>
<p><button id="abandonButton" *ngIf="!this.gameClientService.isGameFinish" (click)="abandonGame()" mat-raised-button>abandonner</button></p>
<p><button id="quitGame" *ngIf="this.gameClientService.isGameFinish" (click)="leaveGame()" mat-raised-button>Quitter</button></p>
<p id="winningMessage" *ngIf="this.gameClientService.isGameFinish">{{ this.gameClientService.winningMessage }}</p>
<mat-slider
    id="updateFontSlider"
    thumbLabel
    [displayWith]="formatLabel"
    [(ngModel)]="value"
    (input)="updateFontSize($event)"
    step="1"
    min="20"
    max="30"
></mat-slider>
